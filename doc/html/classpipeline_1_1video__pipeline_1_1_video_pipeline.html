<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TCC Structure from Motion: pipeline.video_pipeline.VideoPipeline Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TCC Structure from Motion
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Senior project on Structure from Motion for scene and camera trajectory reconstruction from monocular video</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepipeline.html">pipeline</a></li><li class="navelem"><a class="el" href="namespacepipeline_1_1video__pipeline.html">video_pipeline</a></li><li class="navelem"><a class="el" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html">VideoPipeline</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classpipeline_1_1video__pipeline_1_1_video_pipeline-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">pipeline.video_pipeline.VideoPipeline Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for pipeline.video_pipeline.VideoPipeline:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpipeline_1_1video__pipeline_1_1_video_pipeline__inherit__graph.png" border="0" usemap="#pipeline_8video__pipeline_8_video_pipeline_inherit__map" alt="Inheritance graph"/></div>
<map name="pipeline_8video__pipeline_8_video_pipeline_inherit__map" id="pipeline_8video__pipeline_8_video_pipeline_inherit__map">
<area shape="rect" title=" " alt="" coords="16,5,176,49"/>
<area shape="rect" href="classpipeline_1_1synthetic__pipeline_1_1_synthetic_pipeline.html" title=" " alt="" coords="5,97,186,141"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8fb1eb7ac1d225039214ea6f47bf0d5c"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a8fb1eb7ac1d225039214ea6f47bf0d5c">__init__</a> (self, <a class="el" href="classpipeline_1_1config_1_1_video_pipeline_config.html">VideoPipelineConfig</a> <a class="el" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#aa1cd6c39b496103f866cd0a7a6fe232d">config</a>)</td></tr>
<tr class="separator:a8fb1eb7ac1d225039214ea6f47bf0d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d3491067b0d4c0442b8e335d06424e1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a5d3491067b0d4c0442b8e335d06424e1">run</a> (self)</td></tr>
<tr class="separator:a5d3491067b0d4c0442b8e335d06424e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aa1cd6c39b496103f866cd0a7a6fe232d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#aa1cd6c39b496103f866cd0a7a6fe232d">config</a></td></tr>
<tr class="separator:aa1cd6c39b496103f866cd0a7a6fe232d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a2f9bd9f95d9236b26dd175e9a36935e3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a2f9bd9f95d9236b26dd175e9a36935e3">_setup</a> (self, dir)</td></tr>
<tr class="separator:a2f9bd9f95d9236b26dd175e9a36935e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aede7542e6f79bbd82fcb43663baea467"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#aede7542e6f79bbd82fcb43663baea467">_init_reconstruction</a> (self, track_generator)</td></tr>
<tr class="separator:aede7542e6f79bbd82fcb43663baea467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e06a73174a28e49d18372f76e361626"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a6e06a73174a28e49d18372f76e361626">_reconstruct</a> (self, track_generator, Rs=None, Ts=None, cloud=None, tracks=None, masks=None, frame_numbers=None, is_init=False)</td></tr>
<tr class="separator:a6e06a73174a28e49d18372f76e361626"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affefbd1d9b49b339f512342c8b1a8005"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#affefbd1d9b49b339f512342c8b1a8005">_calculate_init_error</a> (self, tracks, masks, frame_numbers, cloud)</td></tr>
<tr class="separator:affefbd1d9b49b339f512342c8b1a8005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af722585b7cab69620ed3cecf8db7c8e1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#af722585b7cab69620ed3cecf8db7c8e1">_calculate_reconstruction_error</a> (self, Rs, Ts, tracks, masks, frame_numbers, cloud)</td></tr>
<tr class="separator:af722585b7cab69620ed3cecf8db7c8e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55c0fe48d55ae8eba033612d9394505e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a55c0fe48d55ae8eba033612d9394505e">_select_reconstruction_error_data</a> (self, Rs, Ts, tracks, masks, frame_numbers)</td></tr>
<tr class="separator:a55c0fe48d55ae8eba033612d9394505e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7bd7543d2e3c88b3fba14d28e38f1e1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#ac7bd7543d2e3c88b3fba14d28e38f1e1">_calculate_reconstruction_errors_from_history</a> (self, Rs, Ts, cloud, tracks, masks, frame_numbers)</td></tr>
<tr class="separator:ac7bd7543d2e3c88b3fba14d28e38f1e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0eeb5877accc5c2b121bff8b503fb5b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#ae0eeb5877accc5c2b121bff8b503fb5b">_run_ba</a> (self, Rs, Ts, cloud, tracks, masks, final_frame=False)</td></tr>
<tr class="separator:ae0eeb5877accc5c2b121bff8b503fb5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a07d28c4568a1494149662298cbab7742"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a07d28c4568a1494149662298cbab7742">_first_reconstruction_frame_number</a></td></tr>
<tr class="separator:a07d28c4568a1494149662298cbab7742"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Main class used for reconstruction. It orchestrates the other components of the
pipeline and interfaces with the user
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8fb1eb7ac1d225039214ea6f47bf0d5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fb1eb7ac1d225039214ea6f47bf0d5c">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None pipeline.video_pipeline.VideoPipeline.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpipeline_1_1config_1_1_video_pipeline_config.html">VideoPipelineConfig</a>&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="affefbd1d9b49b339f512342c8b1a8005"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affefbd1d9b49b339f512342c8b1a8005">&#9670;&nbsp;</a></span>_calculate_init_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def pipeline.video_pipeline.VideoPipeline._calculate_init_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tracks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>masks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_numbers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cloud</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Calculates the projection error for a set of frames given some init
 conditions.

It calculates the error by first calculating the expected rotation and
translation followed by the resulting 2D projection of this pose and
then comparing it with the original track slice.

:param tracks: list of 2D feature vectors. Each vector has the shape Dx2
:param masks: list of index masks for each feature vector. Indexes refer to the position of the item in the cloud
:param frame_numbers: list of indexes for each track in tracks
:param cloud: actual point cloud
:return: mean error
</pre> <div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpipeline_1_1video__pipeline_1_1_video_pipeline_affefbd1d9b49b339f512342c8b1a8005_cgraph.png" border="0" usemap="#classpipeline_1_1video__pipeline_1_1_video_pipeline_affefbd1d9b49b339f512342c8b1a8005_cgraph" alt=""/></div>
<map name="classpipeline_1_1video__pipeline_1_1_video_pipeline_affefbd1d9b49b339f512342c8b1a8005_cgraph" id="classpipeline_1_1video__pipeline_1_1_video_pipeline_affefbd1d9b49b339f512342c8b1a8005_cgraph">
<area shape="rect" title=" " alt="" coords="5,89,172,149"/>
<area shape="rect" href="classpipeline_1_1synthetic__pipeline_1_1_synthetic_pipeline.html#a8d19aa07e484c76d7b1a6eb70c6f89fe" title=" " alt="" coords="220,5,428,65"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#af722585b7cab69620ed3cecf8db7c8e1" title=" " alt="" coords="241,89,407,149"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#aba2f11bb59445d22c2cd00e1cae4d0d3" title=" " alt="" coords="247,173,401,217"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#a3ad644a83287dd39d4343d87d88d63f8" title=" " alt="" coords="480,48,634,108"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#a7e9681e59e853d70f0fee2e8ef69c7f3" title=" " alt="" coords="476,173,638,217"/>
</map>
</div>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpipeline_1_1video__pipeline_1_1_video_pipeline_affefbd1d9b49b339f512342c8b1a8005_icgraph.png" border="0" usemap="#classpipeline_1_1video__pipeline_1_1_video_pipeline_affefbd1d9b49b339f512342c8b1a8005_icgraph" alt=""/></div>
<map name="classpipeline_1_1video__pipeline_1_1_video_pipeline_affefbd1d9b49b339f512342c8b1a8005_icgraph" id="classpipeline_1_1video__pipeline_1_1_video_pipeline_affefbd1d9b49b339f512342c8b1a8005_icgraph">
<area shape="rect" title=" " alt="" coords="483,5,650,65"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#aede7542e6f79bbd82fcb43663baea467" title=" " alt="" coords="213,13,435,57"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a5d3491067b0d4c0442b8e335d06424e1" title=" " alt="" coords="5,13,165,57"/>
</map>
</div>

</div>
</div>
<a id="af722585b7cab69620ed3cecf8db7c8e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af722585b7cab69620ed3cecf8db7c8e1">&#9670;&nbsp;</a></span>_calculate_reconstruction_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def pipeline.video_pipeline.VideoPipeline._calculate_reconstruction_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Rs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tracks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>masks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_numbers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cloud</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">:param Rs: list of R matrices
:param Ts: list of T vectors
:param tracks: list of 2D feature vectors. Each vector has the shape Dx2
:param masks: list of index masks for each feature vector. Indexes refer to the position of the item in the cloud
:param frame_numbers: list of indexes for each track in tracks
:param cloud: point cloud with N points as a ndarray with shape Nx3
:return:
</pre> 
<p>Reimplemented in <a class="el" href="classpipeline_1_1synthetic__pipeline_1_1_synthetic_pipeline.html#a8d19aa07e484c76d7b1a6eb70c6f89fe">pipeline.synthetic_pipeline.SyntheticPipeline</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpipeline_1_1video__pipeline_1_1_video_pipeline_af722585b7cab69620ed3cecf8db7c8e1_cgraph.png" border="0" usemap="#classpipeline_1_1video__pipeline_1_1_video_pipeline_af722585b7cab69620ed3cecf8db7c8e1_cgraph" alt=""/></div>
<map name="classpipeline_1_1video__pipeline_1_1_video_pipeline_af722585b7cab69620ed3cecf8db7c8e1_cgraph" id="classpipeline_1_1video__pipeline_1_1_video_pipeline_af722585b7cab69620ed3cecf8db7c8e1_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,172,65"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#a3ad644a83287dd39d4343d87d88d63f8" title=" " alt="" coords="220,5,375,65"/>
</map>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpipeline_1_1video__pipeline_1_1_video_pipeline_af722585b7cab69620ed3cecf8db7c8e1_icgraph.png" border="0" usemap="#classpipeline_1_1video__pipeline_1_1_video_pipeline_af722585b7cab69620ed3cecf8db7c8e1_icgraph" alt=""/></div>
<map name="classpipeline_1_1video__pipeline_1_1_video_pipeline_af722585b7cab69620ed3cecf8db7c8e1_icgraph" id="classpipeline_1_1video__pipeline_1_1_video_pipeline_af722585b7cab69620ed3cecf8db7c8e1_icgraph">
<area shape="rect" title=" " alt="" coords="948,81,1115,141"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#affefbd1d9b49b339f512342c8b1a8005" title=" " alt="" coords="490,5,657,65"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#ac7bd7543d2e3c88b3fba14d28e38f1e1" title=" " alt="" coords="711,73,900,149"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a6e06a73174a28e49d18372f76e361626" title=" " alt="" coords="483,89,663,133"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#aede7542e6f79bbd82fcb43663baea467" title=" " alt="" coords="213,29,435,73"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a5d3491067b0d4c0442b8e335d06424e1" title=" " alt="" coords="5,60,165,104"/>
</map>
</div>

</div>
</div>
<a id="ac7bd7543d2e3c88b3fba14d28e38f1e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7bd7543d2e3c88b3fba14d28e38f1e1">&#9670;&nbsp;</a></span>_calculate_reconstruction_errors_from_history()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def pipeline.video_pipeline.VideoPipeline._calculate_reconstruction_errors_from_history </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Rs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cloud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tracks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>masks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_numbers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Similar to calculate_reconstruction_error but it calculates errors
after all reconstruction.

:param Rs:
:param Ts:
:param cloud:
:param tracks:
:param masks:
:param frame_numbers:
:return:
</pre> <div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpipeline_1_1video__pipeline_1_1_video_pipeline_ac7bd7543d2e3c88b3fba14d28e38f1e1_cgraph.png" border="0" usemap="#classpipeline_1_1video__pipeline_1_1_video_pipeline_ac7bd7543d2e3c88b3fba14d28e38f1e1_cgraph" alt=""/></div>
<map name="classpipeline_1_1video__pipeline_1_1_video_pipeline_ac7bd7543d2e3c88b3fba14d28e38f1e1_cgraph" id="classpipeline_1_1video__pipeline_1_1_video_pipeline_ac7bd7543d2e3c88b3fba14d28e38f1e1_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,194,157"/>
<area shape="rect" href="classpipeline_1_1synthetic__pipeline_1_1_synthetic_pipeline.html#a8d19aa07e484c76d7b1a6eb70c6f89fe" title=" " alt="" coords="242,5,450,65"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#af722585b7cab69620ed3cecf8db7c8e1" title=" " alt="" coords="263,89,429,149"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a55c0fe48d55ae8eba033612d9394505e" title=" " alt="" coords="255,173,437,233"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#a3ad644a83287dd39d4343d87d88d63f8" title=" " alt="" coords="498,48,653,108"/>
</map>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpipeline_1_1video__pipeline_1_1_video_pipeline_ac7bd7543d2e3c88b3fba14d28e38f1e1_icgraph.png" border="0" usemap="#classpipeline_1_1video__pipeline_1_1_video_pipeline_ac7bd7543d2e3c88b3fba14d28e38f1e1_icgraph" alt=""/></div>
<map name="classpipeline_1_1video__pipeline_1_1_video_pipeline_ac7bd7543d2e3c88b3fba14d28e38f1e1_icgraph" id="classpipeline_1_1video__pipeline_1_1_video_pipeline_ac7bd7543d2e3c88b3fba14d28e38f1e1_icgraph">
<area shape="rect" title=" " alt="" coords="711,20,900,96"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a6e06a73174a28e49d18372f76e361626" title=" " alt="" coords="483,36,663,80"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#aede7542e6f79bbd82fcb43663baea467" title=" " alt="" coords="213,5,435,49"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a5d3491067b0d4c0442b8e335d06424e1" title=" " alt="" coords="5,36,165,80"/>
</map>
</div>

</div>
</div>
<a id="aede7542e6f79bbd82fcb43663baea467"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aede7542e6f79bbd82fcb43663baea467">&#9670;&nbsp;</a></span>_init_reconstruction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def pipeline.video_pipeline.VideoPipeline._init_reconstruction </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>track_generator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Runs initial reconstruction phase for a given track generator

It loades K + P frames, feed the first K frames to the reconstruction
function for a initial reconstruction attempt then uses the other P
frames for error calculation with out of sample frames.

If calculated error is below threshold it adds back those frames used
for error calculation back to generator and return the reconstruction result.

If calculated error is above threshold it drops the first frame, load a
new one and repeats everything.

:param track_generator: generator of tracks. Each item is of the form
    (
frame_number: number of frame, monotonically increasing
features: list of tuples with each feature location
indexes: list of indexes for each returned features. These indexes
are a global non repeating number corresponding to each feature
and can be used to uniquely reference a reconstructed point
    )

:return: (
    Rs: list of rotation matrices from reconstructed cameras
    Ts: list of translation vectors from reconstructed cameras
    cloud: reconstruction point cloud
    init_errors: errors calculated during reconstruction init phase
    tracks: tracks used for reconstruction
    masks: masks used for reconstruction
    frame_numbers: indexes of frames used for reconstruction
    track_generator: same track generator as the one from the input but
    with reconstruction and dropped frames removed
    init_errors: errors calculated during init phase
)
</pre> <div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpipeline_1_1video__pipeline_1_1_video_pipeline_aede7542e6f79bbd82fcb43663baea467_cgraph.png" border="0" usemap="#classpipeline_1_1video__pipeline_1_1_video_pipeline_aede7542e6f79bbd82fcb43663baea467_cgraph" alt=""/></div>
<map name="classpipeline_1_1video__pipeline_1_1_video_pipeline_aede7542e6f79bbd82fcb43663baea467_cgraph" id="classpipeline_1_1video__pipeline_1_1_video_pipeline_aede7542e6f79bbd82fcb43663baea467_cgraph">
<area shape="rect" title=" " alt="" coords="5,261,227,305"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#affefbd1d9b49b339f512342c8b1a8005" title=" " alt="" coords="514,312,681,372"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a6e06a73174a28e49d18372f76e361626" title=" " alt="" coords="275,227,455,271"/>
<area shape="rect" href="classpipeline_1_1synthetic__pipeline_1_1_synthetic_pipeline.html#a8d19aa07e484c76d7b1a6eb70c6f89fe" title=" " alt="" coords="740,53,948,113"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#af722585b7cab69620ed3cecf8db7c8e1" title=" " alt="" coords="761,241,927,301"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#aba2f11bb59445d22c2cd00e1cae4d0d3" title=" " alt="" coords="767,328,921,372"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#a3ad644a83287dd39d4343d87d88d63f8" title=" " alt="" coords="1001,239,1155,299"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#a7e9681e59e853d70f0fee2e8ef69c7f3" title=" " alt="" coords="997,328,1159,372"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#ac7bd7543d2e3c88b3fba14d28e38f1e1" title=" " alt="" coords="503,41,692,117"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a55c0fe48d55ae8eba033612d9394505e" title=" " alt="" coords="753,144,935,204"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#ae0eeb5877accc5c2b121bff8b503fb5b" title=" " alt="" coords="518,141,678,185"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#aedff01306e1ee794ca1937b7fffdd4d2" title=" " alt="" coords="520,396,675,456"/>
<area shape="rect" href="namespacepipeline_1_1init__algorithms.html#a6fc14c95f4aab4ee6b08485c96d3527e" title=" " alt="" coords="507,480,688,524"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#a8225b01aca333e4c26e92480d26cb0f7" title=" " alt="" coords="767,408,921,452"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#ab57c5882d876ac091b0e18b202294af9" title=" " alt="" coords="766,477,922,521"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#abad2530cdcf777ed8db1f078b19f8320" title=" " alt="" coords="996,408,1160,452"/>
</map>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpipeline_1_1video__pipeline_1_1_video_pipeline_aede7542e6f79bbd82fcb43663baea467_icgraph.png" border="0" usemap="#classpipeline_1_1video__pipeline_1_1_video_pipeline_aede7542e6f79bbd82fcb43663baea467_icgraph" alt=""/></div>
<map name="classpipeline_1_1video__pipeline_1_1_video_pipeline_aede7542e6f79bbd82fcb43663baea467_icgraph" id="classpipeline_1_1video__pipeline_1_1_video_pipeline_aede7542e6f79bbd82fcb43663baea467_icgraph">
<area shape="rect" title=" " alt="" coords="213,5,435,49"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a5d3491067b0d4c0442b8e335d06424e1" title=" " alt="" coords="5,5,165,49"/>
</map>
</div>

</div>
</div>
<a id="a6e06a73174a28e49d18372f76e361626"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e06a73174a28e49d18372f76e361626">&#9670;&nbsp;</a></span>_reconstruct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def pipeline.video_pipeline.VideoPipeline._reconstruct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>track_generator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Rs</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Ts</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cloud</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tracks</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>masks</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_numbers</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>is_init</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">This is the main reconstruction function, both for the init and
increments reconstruction phases.

If a partial reconstruction (with the variables Rs, Ts, cloud, tracks,
masks, frame_numbers not None and is_init=False) it continues the reconstruction,
otherwise it begins one from scratch.

:param track_generator: generator of features, indexes and frame number
:param cloud: point cloud with N points as a ndarray with shape Nx3
:param Rs: list of R matrices used for initial reconstruction
:param Ts: list of T vectors used for initial reconstruction
:param tracks: list of 2D feature vectors. Each vector has the shape Dx2
:param masks: list of index masks for each feature vector. Indexes refer to the position of the item in the cloud
:param frame_numbers: list of frame indexes/numbers used for initial reconstruction
:param is_init: flag inficating if it's in the initial reconstruction phase
:return: (
    Rs: list of rotation matrix
    Ts: list of translation vectors
    cloud: list of reconstructed 3d points
    tracks: list of tracks
    masks: list of trac masks
    frame_numbers: list of frame numbers
    online_errors: list of errors calculated during reconstruction
    post_errors: list of errors calculated after reconstruction is finished
)
</pre> <div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpipeline_1_1video__pipeline_1_1_video_pipeline_a6e06a73174a28e49d18372f76e361626_cgraph.png" border="0" usemap="#classpipeline_1_1video__pipeline_1_1_video_pipeline_a6e06a73174a28e49d18372f76e361626_cgraph" alt=""/></div>
<map name="classpipeline_1_1video__pipeline_1_1_video_pipeline_a6e06a73174a28e49d18372f76e361626_cgraph" id="classpipeline_1_1video__pipeline_1_1_video_pipeline_a6e06a73174a28e49d18372f76e361626_cgraph">
<area shape="rect" title=" " alt="" coords="5,207,185,251"/>
<area shape="rect" href="classpipeline_1_1synthetic__pipeline_1_1_synthetic_pipeline.html#a8d19aa07e484c76d7b1a6eb70c6f89fe" title=" " alt="" coords="470,5,678,65"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#af722585b7cab69620ed3cecf8db7c8e1" title=" " alt="" coords="491,89,657,149"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#ac7bd7543d2e3c88b3fba14d28e38f1e1" title=" " alt="" coords="233,115,422,191"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a55c0fe48d55ae8eba033612d9394505e" title=" " alt="" coords="483,181,665,241"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#ae0eeb5877accc5c2b121bff8b503fb5b" title=" " alt="" coords="248,267,408,311"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#aedff01306e1ee794ca1937b7fffdd4d2" title=" " alt="" coords="250,403,405,463"/>
<area shape="rect" href="namespacepipeline_1_1init__algorithms.html#a6fc14c95f4aab4ee6b08485c96d3527e" title=" " alt="" coords="237,335,418,379"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#a3ad644a83287dd39d4343d87d88d63f8" title=" " alt="" coords="730,48,885,108"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#a8225b01aca333e4c26e92480d26cb0f7" title=" " alt="" coords="497,335,651,379"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#aba2f11bb59445d22c2cd00e1cae4d0d3" title=" " alt="" coords="497,471,651,515"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#ab57c5882d876ac091b0e18b202294af9" title=" " alt="" coords="496,403,652,447"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#abad2530cdcf777ed8db1f078b19f8320" title=" " alt="" coords="726,335,890,379"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#a7e9681e59e853d70f0fee2e8ef69c7f3" title=" " alt="" coords="727,471,889,515"/>
</map>
</div>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpipeline_1_1video__pipeline_1_1_video_pipeline_a6e06a73174a28e49d18372f76e361626_icgraph.png" border="0" usemap="#classpipeline_1_1video__pipeline_1_1_video_pipeline_a6e06a73174a28e49d18372f76e361626_icgraph" alt=""/></div>
<map name="classpipeline_1_1video__pipeline_1_1_video_pipeline_a6e06a73174a28e49d18372f76e361626_icgraph" id="classpipeline_1_1video__pipeline_1_1_video_pipeline_a6e06a73174a28e49d18372f76e361626_icgraph">
<area shape="rect" title=" " alt="" coords="483,36,663,80"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#aede7542e6f79bbd82fcb43663baea467" title=" " alt="" coords="213,5,435,49"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a5d3491067b0d4c0442b8e335d06424e1" title=" " alt="" coords="5,36,165,80"/>
</map>
</div>

</div>
</div>
<a id="ae0eeb5877accc5c2b121bff8b503fb5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0eeb5877accc5c2b121bff8b503fb5b">&#9670;&nbsp;</a></span>_run_ba()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def pipeline.video_pipeline.VideoPipeline._run_ba </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Rs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cloud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tracks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>masks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>final_frame</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Decides if the Bundle Adjustment step must be run and with how much data.

:param Rs:
:param Ts:
:param cloud:
:param tracks:
:param masks:
:param final_frame:
:return:
</pre> <div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpipeline_1_1video__pipeline_1_1_video_pipeline_ae0eeb5877accc5c2b121bff8b503fb5b_icgraph.png" border="0" usemap="#classpipeline_1_1video__pipeline_1_1_video_pipeline_ae0eeb5877accc5c2b121bff8b503fb5b_icgraph" alt=""/></div>
<map name="classpipeline_1_1video__pipeline_1_1_video_pipeline_ae0eeb5877accc5c2b121bff8b503fb5b_icgraph" id="classpipeline_1_1video__pipeline_1_1_video_pipeline_ae0eeb5877accc5c2b121bff8b503fb5b_icgraph">
<area shape="rect" title=" " alt="" coords="711,36,871,80"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a6e06a73174a28e49d18372f76e361626" title=" " alt="" coords="483,36,663,80"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#aede7542e6f79bbd82fcb43663baea467" title=" " alt="" coords="213,5,435,49"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a5d3491067b0d4c0442b8e335d06424e1" title=" " alt="" coords="5,36,165,80"/>
</map>
</div>

</div>
</div>
<a id="a55c0fe48d55ae8eba033612d9394505e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55c0fe48d55ae8eba033612d9394505e">&#9670;&nbsp;</a></span>_select_reconstruction_error_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def pipeline.video_pipeline.VideoPipeline._select_reconstruction_error_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Rs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tracks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>masks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_numbers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Selects data to be used on reconstruction error calculation. Returns
slices of inputs.

:param Rs: list of R matrices
:param Ts: list of T vectors
:param tracks: list of 2D feature vectors. Each vector has the shape Dx2
:param masks: list of index masks for each feature vector. Indexes refer to the position of the item in the cloud
:param frame_numbers: list of indexes for each track in tracks
:return: slices of inputs with items to be used for calculation
</pre> <div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpipeline_1_1video__pipeline_1_1_video_pipeline_a55c0fe48d55ae8eba033612d9394505e_icgraph.png" border="0" usemap="#classpipeline_1_1video__pipeline_1_1_video_pipeline_a55c0fe48d55ae8eba033612d9394505e_icgraph" alt=""/></div>
<map name="classpipeline_1_1video__pipeline_1_1_video_pipeline_a55c0fe48d55ae8eba033612d9394505e_icgraph" id="classpipeline_1_1video__pipeline_1_1_video_pipeline_a55c0fe48d55ae8eba033612d9394505e_icgraph">
<area shape="rect" title=" " alt="" coords="948,52,1129,112"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#ac7bd7543d2e3c88b3fba14d28e38f1e1" title=" " alt="" coords="711,5,900,81"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a6e06a73174a28e49d18372f76e361626" title=" " alt="" coords="483,60,663,104"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#aede7542e6f79bbd82fcb43663baea467" title=" " alt="" coords="213,29,435,73"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a5d3491067b0d4c0442b8e335d06424e1" title=" " alt="" coords="5,60,165,104"/>
</map>
</div>

</div>
</div>
<a id="a2f9bd9f95d9236b26dd175e9a36935e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f9bd9f95d9236b26dd175e9a36935e3">&#9670;&nbsp;</a></span>_setup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def pipeline.video_pipeline.VideoPipeline._setup </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Instantiated frame generator

This function is separated from run() so that child classes can modify it
easily

:param dir: filepath of video file
:return: generator of raw frames
</pre> 
<p>Reimplemented in <a class="el" href="classpipeline_1_1synthetic__pipeline_1_1_synthetic_pipeline.html#aa30b7040698704e448c17eacccde8cc6">pipeline.synthetic_pipeline.SyntheticPipeline</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpipeline_1_1video__pipeline_1_1_video_pipeline_a2f9bd9f95d9236b26dd175e9a36935e3_cgraph.png" border="0" usemap="#classpipeline_1_1video__pipeline_1_1_video_pipeline_a2f9bd9f95d9236b26dd175e9a36935e3_cgraph" alt=""/></div>
<map name="classpipeline_1_1video__pipeline_1_1_video_pipeline_a2f9bd9f95d9236b26dd175e9a36935e3_cgraph" id="classpipeline_1_1video__pipeline_1_1_video_pipeline_a2f9bd9f95d9236b26dd175e9a36935e3_cgraph">
<area shape="rect" title=" " alt="" coords="5,75,165,119"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#a3a191f38dd8c6b7a5588f4aecc3e6b63" title=" " alt="" coords="213,40,407,84"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#a9e993435e499957069128ddee1f1e2ec" title=" " alt="" coords="216,108,405,152"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#a6a062f61d875fd00c2eec4b6632527d9" title=" " alt="" coords="455,5,672,49"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#a2e790cdc497b948e2ecc774d684662ac" title=" " alt="" coords="459,73,668,117"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#ab9434e8ab5b6f00fdbc0661523e6e54c" title=" " alt="" coords="467,141,661,185"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#a02722fc9df0a481391fd6c8fe0b4187e" title=" " alt="" coords="461,209,666,253"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#a53c221f46f0f3111ed0481b6fca12cb7" title=" " alt="" coords="720,141,932,185"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#a53ef737778d62c99a1e8a8c49be00035" title=" " alt="" coords="980,107,1198,151"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#a79b402ea4e558b374d47c4a5e7cd1d1e" title=" " alt="" coords="992,175,1186,219"/>
</map>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpipeline_1_1video__pipeline_1_1_video_pipeline_a2f9bd9f95d9236b26dd175e9a36935e3_icgraph.png" border="0" usemap="#classpipeline_1_1video__pipeline_1_1_video_pipeline_a2f9bd9f95d9236b26dd175e9a36935e3_icgraph" alt=""/></div>
<map name="classpipeline_1_1video__pipeline_1_1_video_pipeline_a2f9bd9f95d9236b26dd175e9a36935e3_icgraph" id="classpipeline_1_1video__pipeline_1_1_video_pipeline_a2f9bd9f95d9236b26dd175e9a36935e3_icgraph">
<area shape="rect" title=" " alt="" coords="213,5,373,49"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a5d3491067b0d4c0442b8e335d06424e1" title=" " alt="" coords="5,5,165,49"/>
</map>
</div>

</div>
</div>
<a id="a5d3491067b0d4c0442b8e335d06424e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d3491067b0d4c0442b8e335d06424e1">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pipeline.video_pipeline.VideoPipeline.run </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Given a set of config parameters passed at init this function runs and returns
the reconstruction alongside with some error measurements
:return: (
    Rs: list of rotation matrices from reconstructed cameras
    Ts: list of translation vectors from reconstructed cameras
    cloud: reconstruction point cloud
    init_errors: errors calculated during reconstruction init phase
    online_errors: errors calculated during reconstruction
    post_errors: errors calculated after reconstruction is finished
    execution_time: how many second it took to run the pipeline (wall time)
</pre> <div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classpipeline_1_1video__pipeline_1_1_video_pipeline_a5d3491067b0d4c0442b8e335d06424e1_cgraph.png" border="0" usemap="#classpipeline_1_1video__pipeline_1_1_video_pipeline_a5d3491067b0d4c0442b8e335d06424e1_cgraph" alt=""/></div>
<map name="classpipeline_1_1video__pipeline_1_1_video_pipeline_a5d3491067b0d4c0442b8e335d06424e1_cgraph" id="classpipeline_1_1video__pipeline_1_1_video_pipeline_a5d3491067b0d4c0442b8e335d06424e1_cgraph">
<area shape="rect" title=" " alt="" coords="5,462,165,506"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#aede7542e6f79bbd82fcb43663baea467" title=" " alt="" coords="214,318,436,362"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a6e06a73174a28e49d18372f76e361626" title=" " alt="" coords="493,318,673,362"/>
<area shape="rect" href="classpipeline_1_1synthetic__pipeline_1_1_synthetic_pipeline.html#aa30b7040698704e448c17eacccde8cc6" title=" " alt="" coords="213,583,438,627"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a2f9bd9f95d9236b26dd175e9a36935e3" title=" " alt="" coords="245,875,405,919"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#affefbd1d9b49b339f512342c8b1a8005" title=" " alt="" coords="762,49,928,109"/>
<area shape="rect" href="classpipeline_1_1synthetic__pipeline_1_1_synthetic_pipeline.html#a8d19aa07e484c76d7b1a6eb70c6f89fe" title=" " alt="" coords="1012,154,1220,214"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#af722585b7cab69620ed3cecf8db7c8e1" title=" " alt="" coords="1033,63,1199,123"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#aba2f11bb59445d22c2cd00e1cae4d0d3" title=" " alt="" coords="1039,251,1193,295"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#a3ad644a83287dd39d4343d87d88d63f8" title=" " alt="" coords="1302,142,1457,202"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#a7e9681e59e853d70f0fee2e8ef69c7f3" title=" " alt="" coords="1298,251,1460,295"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#ac7bd7543d2e3c88b3fba14d28e38f1e1" title=" " alt="" coords="751,201,939,277"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#a55c0fe48d55ae8eba033612d9394505e" title=" " alt="" coords="1025,331,1207,391"/>
<area shape="rect" href="classpipeline_1_1video__pipeline_1_1_video_pipeline.html#ae0eeb5877accc5c2b121bff8b503fb5b" title=" " alt="" coords="765,133,925,177"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#aedff01306e1ee794ca1937b7fffdd4d2" title=" " alt="" coords="768,403,922,463"/>
<area shape="rect" href="namespacepipeline_1_1init__algorithms.html#a6fc14c95f4aab4ee6b08485c96d3527e" title=" " alt="" coords="754,487,936,531"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#a8225b01aca333e4c26e92480d26cb0f7" title=" " alt="" coords="1039,415,1193,459"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#ab57c5882d876ac091b0e18b202294af9" title=" " alt="" coords="1038,486,1194,530"/>
<area shape="rect" href="namespacepipeline_1_1reconstruction__algorithms.html#abad2530cdcf777ed8db1f078b19f8320" title=" " alt="" coords="1297,415,1461,459"/>
<area shape="rect" href="classpipeline_1_1synthetic__pipeline_1_1_synthetic_pipeline.html#a5d525a3a2bd5e71280c1fa44f4db1f1b" title=" " alt="" coords="490,618,675,678"/>
<area shape="rect" href="classpipeline_1_1synthetic__pipeline_1_1_synthetic_pipeline.html#a94ead87e5a024797ce51b0a4a1c66fbc" title=" " alt="" coords="736,555,954,615"/>
<area shape="rect" href="classpipeline_1_1synthetic__pipeline_1_1_synthetic_pipeline.html#adfba2d08e52d56c86b50eb26fd7da9fb" title=" " alt="" coords="728,639,962,699"/>
<area shape="rect" href="classpipeline_1_1synthetic__pipeline_1_1_synthetic_pipeline.html#a5d37ec74a26ea1a9fb1a237850215a60" title=" " alt="" coords="753,723,937,783"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#a3a191f38dd8c6b7a5588f4aecc3e6b63" title=" " alt="" coords="486,943,680,987"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#a9e993435e499957069128ddee1f1e2ec" title=" " alt="" coords="488,875,677,919"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#a6a062f61d875fd00c2eec4b6632527d9" title=" " alt="" coords="736,875,953,919"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#a2e790cdc497b948e2ecc774d684662ac" title=" " alt="" coords="740,943,950,987"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#ab9434e8ab5b6f00fdbc0661523e6e54c" title=" " alt="" coords="748,1011,942,1055"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#a02722fc9df0a481391fd6c8fe0b4187e" title=" " alt="" coords="743,807,947,851"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#a53c221f46f0f3111ed0481b6fca12cb7" title=" " alt="" coords="1010,1011,1222,1055"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#a53ef737778d62c99a1e8a8c49be00035" title=" " alt="" coords="1270,1045,1488,1089"/>
<area shape="rect" href="namespacepipeline_1_1video__algorithms.html#a79b402ea4e558b374d47c4a5e7cd1d1e" title=" " alt="" coords="1282,977,1476,1021"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a07d28c4568a1494149662298cbab7742"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07d28c4568a1494149662298cbab7742">&#9670;&nbsp;</a></span>_first_reconstruction_frame_number</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pipeline.video_pipeline.VideoPipeline._first_reconstruction_frame_number</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa1cd6c39b496103f866cd0a7a6fe232d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1cd6c39b496103f866cd0a7a6fe232d">&#9670;&nbsp;</a></span>config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pipeline.video_pipeline.VideoPipeline.config</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>pipeline/<a class="el" href="video__pipeline_8py.html">video_pipeline.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
